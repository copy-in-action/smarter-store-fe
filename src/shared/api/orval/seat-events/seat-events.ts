/**
 * Generated by orval v7.17.0 ðŸº
 * Do not edit manually.
 * Smarter Store API
 * Smarter Store ë°±ì—”ë“œ API ë¬¸ì„œ
 * OpenAPI spec version: 1.0.0
 */
import type {
  SeatStatusEvent
} from '.././types';

import { orvalFetch } from '../../fetch-wrapper';

/**
 * 
            Server-Sent Eventsë¥¼ í†µí•´ ì‹¤ì‹œê°„ ì¢Œì„ ìƒíƒœ ë³€ê²½ì„ ìˆ˜ì‹ í•©ë‹ˆë‹¤.

            **ì‚¬ìš© ë°©ë²•:**
            ```javascript
            const eventSource = new EventSource('/api/schedules/1/seats/events');

            eventSource.onmessage = (event) => {
                const data = JSON.parse(event.data);
                if (!data.isHeartbeat) {
                    // ì¢Œì„ ìƒíƒœ ì—…ë°ì´íŠ¸ ì²˜ë¦¬
                    console.log('Seat', data.scheduleSeatId, 'changed to', data.status);
                }
            };

            eventSource.onerror = (error) => {
                console.error('SSE connection error:', error);
                eventSource.close();
            };
            ```

            **ì´ë²¤íŠ¸ ë°ì´í„° í˜•ì‹:**
            - `scheduleSeatId`: ì¢Œì„ ID (-1ì´ë©´ í•˜íŠ¸ë¹„íŠ¸)
            - `status`: ìƒˆ ìƒíƒœ (AVAILABLE, HELD, RESERVED)
            - `timestamp`: ì´ë²¤íŠ¸ ë°œìƒ ì‹œê°„
            - `isHeartbeat`: í•˜íŠ¸ë¹„íŠ¸ ì—¬ë¶€ (30ì´ˆë§ˆë‹¤ ì „ì†¡)
        
 * @summary ì¢Œì„ ìƒíƒœ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ (SSE)
 */
export type streamSeatEventsResponse200 = {
  data: SeatStatusEvent[]
  status: 200
}
    
export type streamSeatEventsResponseSuccess = (streamSeatEventsResponse200) & {
  headers: Headers;
};
;

export type streamSeatEventsResponse = (streamSeatEventsResponseSuccess)

export const getStreamSeatEventsUrl = (scheduleId: number,) => {


  

  return `https://api.ticket.devhong.cc/api/schedules/${scheduleId}/seats/events`
}

export const streamSeatEvents = async (scheduleId: number, options?: RequestInit): Promise<streamSeatEventsResponse> => {
  
  return orvalFetch<streamSeatEventsResponse>(getStreamSeatEventsUrl(scheduleId),
  {      
    ...options,
    method: 'GET'
    
    
  }
);}


