공연 예매 시스템 성능 테스트 전략

문서 정보

항목

내용

작성일 

2026-01-29 

목적 

시스템 전체 성능 검증 및 사용자 경험 최적화 

1. 개요

1.1 왜 성능 테스트가 필요한가?

공연 예매 시스템은 다음과 같은 특징으로 인해 성능 테스트가 필수입니다:

비즈니스 특성:

특정 시간대 트래픽 집중 (티켓 오픈 시)

선착순 예매로 인한 동시 접속 폭증

좌석 중복 예약 방지 필요 (동시성 제어)

결제 연동으로 인한 트랜잭션 안정성 중요

기술적 특성:

높은 읽기/쓰기 비율

실시간 좌석 상태 동기화

복잡한 UI 렌더링 (좌석 배치도)

타임아웃 기반 자원 반환 로직

1.2 성능 테스트의 목표

안정성 검증: 예상 트래픽에서 시스템이 정상 동작하는가?

한계점 파악: 시스템이 견딜 수 있는 최대 부하는?

병목 지점 식별: 어느 구간이 가장 느린가?

사용자 경험 측정: 실제 사용자가 체감하는 성능은?

비즈니스 로직 검증: 동시성 제어가 정확히 동작하는가?

2. 테스트 범위 정의

2.1 테스트 레이어

성능 테스트는 세 가지 레이어로 구분됩니다:

Layer 1: 백엔드 API 성능

목적: 서버 성능 및 동시성 제어 검증
방식: API 엔드포인트 직접 호출
특징: 대량 부하 가능, 빠른 실행

Layer 2: 프론트엔드 성능

목적: 사용자 경험 및 렌더링 성능 측정
방식: 실제 브라우저 시뮬레이션
특징: 제한된 부하, 느린 실행, 실제 사용자와 유사

Layer 3: 인프라 성능

목적: 서버, DB, 네트워크 리소스 측정
방식: 모니터링 도구 활용
특징: 병목 지점 식별

2.2 우선순위

우선순위

테스트 영역

이유

Critical 

예매 API 동시성 제어 

중복 예약 발생 시 치명적 

High 

전체 예매 플로우 성능 

사용자 이탈 방지 

High 

결제 API 안정성 

금전 거래 포함 

Medium 

좌석 배치도 렌더링 

UX 영향 

Medium 

실시간 좌석 상태 동기화 

사용성 개선 

Low 

관리자 기능 

내부 사용자만 접근 

3. 사전 준비 사항

3.1 환경 준비

테스트 환경 요구사항

격리된 환경: 운영 환경과 완전히 분리된 스테이징 환경

동일 스펙: 운영 환경과 동일한 하드웨어/소프트웨어 스펙

독립 데이터베이스: 테스트 전용 DB (운영 DB 접근 절대 금지)

모니터링 도구: 실시간 메트릭 수집 환경 구축

네트워크 고려사항

테스트 머신과 서버 간 네트워크 대역폭 확인

방화벽 규칙 확인 (포트 개방)

CDN 사용 시 캐시 정책 확인

3.2 데이터 준비

필수 테스트 데이터

데이터 유형

필요량

용도

사용자 계정 

100-2000개 

동시 접속 시뮬레이션 

공연 정보 

10-20개 

다양한 시나리오 테스트 

공연 회차 

50-100개 

시나리오별 분리 

좌석 정보 

회차당 100석+ 

동시성 테스트 

쿠폰 정보 

50-100개 

할인 로직 테스트 

데이터 생성 전략

시드 스크립트: 백엔드 팀이 자동 생성 스크립트 제공

데이터 리셋: 각 테스트 전 초기 상태로 복원

현실적인 데이터: 실제 운영과 유사한 데이터 분포

3.3 도구 준비

백엔드 부하 테스트 도구

k6: 가볍고 빠른 부하 테스트 도구 (추천)

JMeter: GUI 제공, 다양한 프로토콜 지원

Gatling: Scala 기반, 실시간 리포트 제공

Locust: Python 기반, 확장성 우수

프론트엔드 성능 측정 도구

Playwright: 브라우저 자동화 및 E2E 테스트

Lighthouse: Google Core Web Vitals 측정

WebPageTest: 상세한 성능 분석

Chrome DevTools: 실시간 프로파일링

모니터링 도구

Grafana + Prometheus: 메트릭 시각화

APM 도구: New Relic, DataDog 등

DB 모니터링: 쿼리 성능 추적

로그 수집: ELK Stack, Splunk 등

4. 범용 테스트 방안

4.1 테스트 유형별 접근

4.1.1 부하 테스트 (Load Test)

정의: 예상 사용자 수로 시스템 테스트
목적: 정상 운영 상황에서의 성능 확인
시기: 서비스 오픈 전, 주요 기능 변경 후
부하 패턴: 점진적 증가 → 일정 유지 → 감소

적용 시나리오:

평일 평균 트래픽: 50-100명 동시 접속

주말 피크 타임: 200-300명 동시 접속

인기 공연 티켓 오픈: 500-1000명 동시 접속

4.1.2 스트레스 테스트 (Stress Test)

정의: 시스템 한계점을 찾는 테스트
목적: 최대 수용 가능 사용자 수 파악
시기: 시스템 설계 검증 시
부하 패턴: 지속적으로 증가하여 한계까지

측정 항목:

시스템이 정상 동작하는 최대 동시 접속자 수

한계 도달 시 에러 유형 및 복구 방법

리소스 병목 지점 (CPU, Memory, DB 등)

4.1.3 스파이크 테스트 (Spike Test)

정의: 갑작스러운 트래픽 폭증 시뮬레이션
목적: 순간적인 부하 증가 대응 검증
시기: 마케팅 이벤트 전, 대규모 티켓 오픈 전
부하 패턴: 평소 → 급증 → 유지 → 감소

실제 사례:

인기 가수 콘서트 티켓 오픈

TV 방송 후 급격한 예약 증가

SNS 바이럴로 인한 트래픽 급증

4.1.4 내구성 테스트 (Soak Test)

정의: 장시간 일정 부하 유지
목적: 메모리 누수, 리소스 고갈 등 확인
시기: 운영 안정성 검증 시
부하 패턴: 일정 부하를 1시간 이상 유지

확인 사항:

시간 경과에 따른 응답 시간 변화

메모리 사용량 증가 추이

DB 커넥션 풀 상태

로그 파일 크기 증가

4.2 단계별 테스트 접근

Phase 1: 기초 성능 측정 (Baseline)

목표: 현재 성능 상태 파악
방법:
  - 단일 사용자로 전체 플로우 실행
  - 각 API별 응답 시간 측정
  - 주요 페이지 로딩 시간 측정
산출물: 성능 베이스라인 리포트

Phase 2: 소규모 부하 테스트

목표: 기본적인 동시성 처리 확인
방법:
  - 10-20명 동시 접속
  - 정상 시나리오 반복 실행
  - 에러 발생 여부 확인
산출물: 초기 성능 테스트 리포트

Phase 3: 목표 부하 테스트

목표: 예상 트래픽에서의 성능 검증
방법:
  - 목표 동시 접속자 수로 테스트 (예: 100명)
  - 다양한 시나리오 혼합 실행
  - SLA 달성 여부 확인
산출물: 목표 부하 테스트 리포트

Phase 4: 극한 상황 테스트

목표: 시스템 한계점 파악
방법:
  - 점진적으로 부하 증가 (100→500→1000→...)
  - 시스템 장애 시점 확인
  - 복구 능력 검증
산출물: 스트레스 테스트 리포트, 개선 권장사항

5. 테스트 케이스

5.1 기능별 테스트 케이스

TC-001: 정상 예매 플로우

목적: 일반적인 사용자의 예매 과정 성능 측정
사전조건:
  - 유효한 사용자 계정
  - 예매 가능한 공연 회차
  - 빈 좌석 존재

테스트 단계:
  1. 로그인
  2. 공연 검색/선택
  3. 회차 선택
  4. 좌석 선택
  5. 할인 적용 (선택)
  6. 결제 정보 입력
  7. 결제 완료

측정 항목:
  - 각 단계별 응답 시간
  - 전체 플로우 완료 시간
  - 에러 발생 건수

성공 기준:
  - 전체 플로우 < 30초
  - 각 단계 응답 < 2초
  - 에러율 < 1%

TC-002: 동시 좌석 예약 충돌

목적: 동시성 제어 로직 검증
사전조건:
  - 100개의 유효한 계정
  - 특정 좌석 1개 (빈 좌석)

테스트 단계:
  1. 100명이 동시에 로그인
  2. 동시에 동일 좌석 예약 시도

측정 항목:
  - 성공한 예약 건수
  - 실패한 예약 건수 (409 Conflict)
  - 데이터 정합성 (DB 확인)
  - 응답 시간 분포

성공 기준:
  - 정확히 1건만 성공
  - 나머지는 409 응답
  - DB에 1건만 저장
  - 모든 응답 < 2초

TC-003: 예매 타임아웃

목적: 시간 초과 시 자동 해제 검증
사전조건:
  - 유효한 사용자 계정
  - 예매 가능한 좌석

테스트 단계:
  1. 좌석 선택 (점유)
  2. 2분 대기 (타임아웃 시간)
  3. 다른 사용자가 동일 좌석 예약 시도

측정 항목:
  - 자동 해제 시점 정확도
  - 해제 후 재예약 가능 여부
  - 시스템 부하

성공 기준:
  - 정확히 2분 후 자동 해제
  - 다른 사용자 예약 성공
  - 이전 점유자는 예약 불가

TC-004: 결제 연동

목적: PG 연동 안정성 검증
사전조건:
  - 예매 완료 상태 (좌석 점유)
  - PG 테스트 모드 활성화

테스트 단계:
  1. 결제 요청 생성
  2. PG 승인 프로세스
  3. 결제 완료 처리
  4. 예매 확정

측정 항목:
  - 결제 요청 → 완료 소요 시간
  - PG 응답 시간
  - 결제 실패 시 롤백 여부

성공 기준:
  - 전체 결제 프로세스 < 5초
  - 실패 시 좌석 자동 해제
  - 트랜잭션 정합성 100%

5.2 비기능 테스트 케이스

TC-NF-001: 응답 시간 SLA

목적: 서비스 수준 목표 달성 검증

측정 대상:
  - 모든 API 엔드포인트
  - 주요 페이지 로딩

목표값:
  - 평균 응답 시간: < 1초
  - P95 응답 시간: < 2초
  - P99 응답 시간: < 3초

측정 방법:
  - 100명 동시 접속
  - 30분간 지속 실행
  - 통계 수집

성공 기준:
  - 모든 메트릭이 목표값 이하

TC-NF-002: 처리량 (Throughput)

목적: 초당 처리 가능 트랜잭션 수 측정

측정 항목:
  - TPS (Transactions Per Second)
  - 동시 처리 요청 수

목표값:
  - 예매 API: 50 TPS
  - 조회 API: 200 TPS

측정 방법:
  - 점진적 부하 증가
  - 한계점까지 테스트

성공 기준:
  - 목표 TPS 달성
  - 에러율 < 1%

TC-NF-003: 리소스 사용률

목적: 서버 리소스 효율성 검증

측정 항목:
  - CPU 사용률
  - 메모리 사용률
  - DB 커넥션 풀
  - 네트워크 대역폭

목표값:
  - CPU < 70% (피크 시)
  - Memory < 80%
  - DB 커넥션 < 80%

측정 방법:
  - 목표 부하 상황에서 모니터링
  - 1시간 지속 관찰

성공 기준:
  - 모든 리소스가 목표값 이하
  - 시간 경과에 따른 증가 없음

5.3 시나리오 기반 테스트 케이스

SC-001: 인기 공연 티켓 오픈

비즈니스 시나리오:
  - 유명 아티스트 콘서트 티켓 오픈
  - 예상 동시 접속: 1,000-2,000명
  - 좌석 수: 500석

사용자 행동:
  - 티켓 오픈 시간 전부터 대기
  - 오픈 즉시 좌석 선택 시도
  - 빠른 결제 진행

테스트 설계:
  1. 오픈 5분 전: 500명 접속 대기
  2. 오픈 시점: 1,000명 동시 예약 시도
  3. 오픈 후 1분: 1,500명까지 증가
  4. 매진 후 점진적 감소

핵심 검증:
  - 정확히 500건만 예매 성공
  - 중복 예약 0건
  - 시스템 크래시 없음
  - 공정한 선착순 처리

SC-002: 평일 일반 트래픽

비즈니스 시나리오:
  - 평상시 예매 패턴
  - 동시 접속: 50-100명
  - 다양한 공연 분산 예약

사용자 행동:
  - 공연 검색 및 탐색
  - 여러 회차 비교
  - 천천히 좌석 선택

테스트 설계:
  1. 초기: 10명
  2. 5분 후: 50명
  3. 10분 후: 100명 유지
  4. 30분 유지 후 종료

핵심 검증:
  - 안정적인 응답 시간
  - 메모리 누수 없음
  - 사용자 경험 우수

SC-003: 할인 이벤트 시

비즈니스 시나리오:
  - 기간 한정 할인 이벤트
  - 쿠폰 사용 증가
  - 복잡한 할인 계산

사용자 행동:
  - 쿠폰 조회 및 적용
  - 여러 할인 조합 시도
  - 최저가 탐색

테스트 설계:
  1. 200명 동시 접속
  2. 모든 사용자 쿠폰 적용
  3. 할인 계산 로직 실행

핵심 검증:
  - 할인 계산 정확도
  - 쿠폰 중복 사용 방지
  - 성능 저하 없음

6. 성공 기준 및 SLA

6.1 정량적 목표

응답 시간 목표

API/페이지

평균

P95

P99

최대

로그인 

< 500ms 

< 1s 

< 1.5s 

< 2s 

공연 목록 조회 

< 800ms 

< 1.5s 

< 2s 

< 3s 

좌석 선택 (예매 시작) 

< 1s 

< 1.5s 

< 2s 

< 3s 

결제 생성 

< 800ms 

< 1.5s 

< 2s 

< 3s 

결제 완료 

< 1s 

< 2s 

< 3s 

< 5s 

처리량 목표

메트릭

목표값

측정 조건

동시 접속 

최소 500명 

안정적 서비스 

예매 TPS 

50 

피크 타임 기준 

조회 TPS 

200 

평상시 기준 

결제 TPS 

30 

피크 타임 기준 

가용성 목표

항목

목표

의미

Uptime 

99.9% 

월 43분 이하 다운타임 

에러율 

< 0.1% 

1000건 중 1건 이하 

타임아웃 

< 0.5% 

1000건 중 5건 이하 

6.2 정성적 목표

사용자 경험

페이지 전환이 자연스럽고 빠름

좌석 선택 시 즉각적인 피드백

에러 발생 시 명확한 안내

로딩 중 적절한 인디케이터 표시

비즈니스 요구사항

동시성 제어 100% 정확도

결제 트랜잭션 안정성

개인정보 보호 (성능 테스트 중에도)

공정한 선착순 처리

7. 위험 관리

7.1 테스트 중 발생 가능한 위험

위험

영향도

발생 확률

완화 방안

운영 DB 접근 

Critical 

Low 

IP 차단, 환경 변수 검증 

실결제 발생 

High 

Medium 

PG 테스트 모드, 소액 테스트 

서버 크래시 

High 

Medium 

자동 재시작, 점진적 부하 증가 

테스트 데이터 부족 

Medium 

High 

사전 데이터 검증, 예비 데이터 

네트워크 불안정 

Medium 

Low 

재시도 로직, 타임아웃 설정 

팀원 부재 

Low 

Medium 

역할 백업, 문서화 

7.2 긴급 중단 기준

다음 상황 발생 시 즉시 테스트 중단:

운영 환경 영향 감지

실결제 발생

데이터 손실 또는 무결성 훼손

3회 이상 서버 크래시

심각한 보안 이슈 발견

7.3 롤백 계획

테스트 실패 또는 문제 발생 시:

즉시 테스트 중단

영향 범위 파악

데이터베이스 백업 복원

서버 설정 원복

원인 분석 후 재테스트 계획

8. 결과 분석 및 보고

8.1 분석 프레임워크

WHAT (무엇을 측정했는가?)

테스트 시나리오

부하 패턴

측정 메트릭

HOW (어떻게 실행했는가?)

테스트 도구

실행 환경

동시 접속자 수

RESULT (결과는?)

정량적 데이터 (응답 시간, TPS, 에러율)

정성적 평가 (안정성, 사용성)

목표 달성 여부

WHY (왜 그런 결과가 나왔는가?)

병목 지점 분석

성능 저하 원인

에러 발생 패턴

NEXT (다음 단계는?)

개선 필요 항목

우선순위

재테스트 계획

8.2 보고서 구조

1. 요약 (Executive Summary)
   - 테스트 개요
   - 주요 결과
   - 핵심 발견 사항
   - 권장 조치

2. 테스트 환경
   - 테스트 일시 및 기간
   - 테스트 환경 스펙
   - 도구 및 버전

3. 테스트 결과
   - 시나리오별 결과
   - 메트릭 상세 데이터
   - 그래프 및 차트

4. 이슈 및 발견 사항
   - 발견된 문제점
   - 심각도별 분류
   - 재현 방법

5. 성능 분석
   - 병목 지점
   - 리소스 사용 현황
   - 비교 분석 (이전 버전 등)

6. 권장 사항
   - 개선 필요 항목
   - 우선순위
   - 예상 효과

7. 결론
   - 목표 달성 여부
   - 서비스 준비도 평가
   - 다음 단계

10. 체크리스트

계획 단계

[ ] 테스트 목표 명확히 정의

[ ] 이해관계자 동의 확보

[ ] 일정 및 리소스 확보

[ ] 역할 및 책임 분담

[ ] 위험 요소 식별

준비 단계

[ ] 테스트 환경 구축 완료

[ ] 테스트 데이터 준비 완료

[ ] 테스트 도구 설치 및 검증

[ ] 모니터링 도구 설정 완료

[ ] 팀원 교육 완료

[ ] 백업 및 롤백 계획 수립

실행 단계

[ ] 사전 점검 완료

[ ] 모든 팀원 준비 완료

[ ] 비상 연락망 공유

[ ] 모니터링 도구 실행

[ ] 테스트 시나리오 순차 실행

[ ] 실시간 이슈 추적

완료 단계

[ ] 모든 데이터 수집 완료

[ ] 테스트 환경 정리

[ ] 데이터 백업

[ ] 결과 분석 완료

[ ] 보고서 작성

[ ] 결과 공유 회의

[ ] 액션 아이템 할당

11. 용어 정의

용어

정의

SLA 

Service Level Agreement, 서비스 수준 목표 

TPS 

Transactions Per Second, 초당 트랜잭션 수 

VU 

Virtual User, 가상 사용자 

P95 

95 백분위수, 전체의 95%가 이 값 이하 

Baseline 

기준선, 비교를 위한 초기 성능 측정값 

Bottleneck 

병목 지점, 성능을 제한하는 구간 

Latency 

지연 시간, 요청부터 응답까지의 시간 

Throughput 

처리량, 단위 시간당 처리 건수 

Ramp-up 

부하를 점진적으로 증가시키는 것 

Spike 

급격한 부하 증가 

Soak 

장시간 일정 부하 유지 

문서 버전: 1.0
마지막 수정일: 2026-01-29